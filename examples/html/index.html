<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Robot Remote Control</title>

<script src="js/robot_remote_control.js"></script>
<script src="js/joy.min.js"></script>

<link rel="stylesheet" href="css/style.css">

<script>
    var host="127.0.0.1"
    var commandport, telemetryport
    var url = new URL(window.location.href)

    

    // obtain ip and port from url / papramater http://192.168.0.1?telemetryport=1234 will connect rrc on ws://192.168.0.1:1237
    if (typeof url !== 'undefined' && url != null) { 
        var host = url.hostname
        var commandport = url.searchParams.get("commandport")
        if (typeof commandport === 'undefined' || commandport == null) {
            commandport = "7001"
        }
        var telemetryport = url.searchParams.get("telemetryport")
        if (typeof telemetryport === 'undefined' || telemetryport == null) {
            telemetryport = "7002"
        }

    }


    function init() {

    }

</script>    


</head>
<body onload=init()>

    <div class="box">
        <div style="vertical-align: middle;">
            <div id="robots" >bla</div>

        </div>
    </div>

    <div class="box">
        <div style="vertical-align: middle;">
            <!-- <div style="font-size:35px; color:white;">Actions</div><br>	 -->
            <div style="font-size:35px; color:black;" id="robotname">not connected</div><br>
            <div id="actions" >bla</div>
        </div>
    </div>

    <div class="box">
        <div style="vertical-align: middle;">
            <!-- <div style="font-size:35px; color:white;">Actions</div><br>	 -->
            <div style="color:black;" id="simpleactions">not connected</div><br>
        </div>
    </div>

    <div class="box">
        <div style="vertical-align: middle;">
            <!-- <div style="font-size:35px; color:white;">Actions</div><br>	 -->
            <div style="color:black;" id="robotstate">not connected</div><br>
        </div>
    </div>
    
    <div class="box">
        <div style="vertical-align: middle;">
            <!-- <div style="font-size:35px; color:white;">Actions</div><br>	 -->
            <div style="color:black;" id="pose">not connected</div><br>
        </div>
    </div>

    <div id="joyDiv" style="width:200px;height:200px;margin-bottom:20px;"></div>
    <script>
        var joy = new JoyStick('joyDiv');
        var rrc = new RobotController(host, commandport, telemetryport)


        window.onclose=function(){
            rrc.close()

        }
    </script>
</body>
</html>
